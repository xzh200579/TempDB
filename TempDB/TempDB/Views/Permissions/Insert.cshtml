@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>添加角色</title>
    <link rel="stylesheet"
          href="../../css/table.css" type="text/css" />
    <script type="text/javascript" src="../../javascript/jquery-1.7.2.js"></script>
    <script type="text/javascript"
            src="../../javascript/jquery.messager.js"></script>
    <script type="text/javascript" src="../../javascript/right_add.js"></script>

    <script src="~/Scripts/vue/dist/vue.js"></script>
    <script src="~/Scripts/element-ui/lib/index.js"></script>
    <link href="~/Scripts/element-ui/lib/theme-chalk/index.css" rel="stylesheet" />
    <script src="~/Scripts/axios/dist/axios.js"></script>
</head>
<body>

    <div id="app">
        <form method="post" action="">
            <table width="100%">
                <tr>
                    <td>
                        <font color="black">
                            您正在做的业务是：人力资源--权限管理--添加角色
                        </font>
                    </td>
                </tr>
                <tr>
                    <td align="right">
                        <input type="button" value="保存" v-on:click="bc()" class="BUTTON_STYLE1"  style="width: 65px; height: 30px; border-radius: 5px"/>
                        <input type="button" value="返回" class="BUTTON_STYLE1"  style="width: 65px; height: 30px; border-radius: 5px"
                               onclick="history.back()">
                    </td>
                </tr>
            </table>
            <table width="100%" border="1" cellpadding=3 cellspacing=1
                   bordercolorlight=#848284 bordercolordark=#eeeeee
                   class="TABLE_STYLE1">
                <tr>
                    <td class="TD_STYLE1">角色名称</td>
                    <td class="TD_STYLE2">
                        <input type="text" id="roleName" v-model="name" name="sysRole.roleName" />
                    </td>
                    <td class="TD_STYLE1">角色说明</td>
                    <td class="TD_STYLE2">
                        <input type="text" v-model="sm" name="sysRole.roleDesc" />
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">角色是否可用</td>
                    <td colspan="3" class="TD_STYLE2">
                        <el-select v-model="region" placeholder="角色是否可用">
                            <el-option label="是" value="1"></el-option>
                            <el-option label="否" value="0"></el-option>
                        </el-select>
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <script type="text/javascript">
        var vm = new Vue({
            el: "#app",
            data() {
                return {
                    name: "",
                    sm: "",
                    region: "",
                }
            },
            methods: {
                bc() {
                    axios.get("/Permissions/Tianj", {
                        params: {
                            RolesName: this.name,
                            RolesInstruction: this.sm,
                            RolesIf: this.region
                        }
                    })
                        .then(res => {
                            if (res.data == "1") {
                                alert("角色添加成功");
                                location.href = "/Permissions/Role";
                            } else {
                                alert("添加失败");
                            }
                        })
                        .catch(err => {
                            console.log(err);
                        })

                }
            },
            mounted: function () {

            }

        })
    </script>
</body>
</html>