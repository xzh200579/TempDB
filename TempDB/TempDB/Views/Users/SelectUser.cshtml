
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../../css/table.css" type="text/css">
    <script type="text/javascript" src="../../javascript/comm/comm.js"></script>
    <script src="~/Scripts/vue/dist/vue.js"></script>
    <script src="~/Scripts/element-ui/lib/index.js"></script>
    <link href="~/Scripts/element-ui/lib/theme-chalk/index.css" rel="stylesheet" />
    <script src="~/Scripts/axios/dist/axios.js"></script>
    <style type="text/css">
        body {
            font-size: 12px;
            color: #ffffff;
            font-family: 宋体
        }

        #bj {
            background: url("../images/login_22.jpg");
            background-repeat: no-repeat;
            background-size: 100%;
        }

        td {
            font-size: 12px;
            color: #ffffff;
            font-family: 宋体
        }
    </style>
</head>
<body>
    <div id="app">
        <form action="" method="post" v-on:submit="Login()">
            <table cellspacing="0" cellpadding="0" width="900" align="center" border="0">
                <tbody>
                    <tr>
                        <td style="height: 105px">
                            <img src="~/images/login_11.gif" border="0">
                        </td>
                    </tr>
                    <tr>
                        <td id="bj" height="300">
                            <table height="300" cellpadding="0" width="900" border="0">
                                <tbody>
                                    <tr>
                                        <td colspan="2" height="35"></td>
                                    </tr>
                                    <tr>
                                        <td width="360"></td>
                                        <td>
                                            <table cellspacing="0" cellpadding="2" border="0">
                                                <tbody>
                                                    <tr>
                                                        <td style="height: 28px" width="80">
                                                            登 录 名：
                                                        </td>
                                                        <td style="height: 28px" width="150">
                                                            <input id="userName" style="width: 130px" v-model="userName">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="height: 28px">
                                                            登录密码：
                                                        </td>
                                                        <td style="height: 28px">
                                                            <input id="userPassword" style="width: 130px" type="password" v-model="Password">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td style="height: 18px"></td>
                                                        <td style="height: 18px"></td>
                                                        <td style="height: 18px"></td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <input type="button" value="登录" style="cursor: pointer;" v-on:click="Login()">
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="~/images/login_33.jpg" border="0">
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
    <script type="text/javascript">
        var vm = new Vue({
            el: "#app",
            data() {
                return {
                    userName: "",
                    Password:"",
                }
            },
            methods: {
                Login: function() {     
                    axios.get("/Users/SelectUserTwo", {
                        params: {
                            name: this.userName,
                            password: this.Password
                        }
                    }).then(res => {
                        if (res.data != "") {
                            //localStorage.setItem("u_true_name", res.data);
                            location.href = "/GlobalPage/Index";
                            alert("登入成功!");
                        } else {
                            alert("登入失败，账号或者密码错误")
                        }
                    }).catch(err => {
                        console.log(err);
                    })
                }
            },
            mounted: function () {

            }
        })
    </script>
</body>
</html>
